# java-chess
체스 게임 구현을 위한 저장소

## 1단계 - 체스판 초기화

- [x] 게임 시작 안내문을 출력한다.
- [x] `end`를 입력하면 종료한다.
- [x] `start`를 입력하면 게임을 시작한다.
  
- [x] 플레이어 생성
  - [x] 백과 흑 플레이어를 생성한다.
  
- [x] 체스판 생성
  - [x] 각 열을 File, 각 행을 Rank라고 한다.
  - [x] 체스판의 좌표는 File과 Rank를 가진다.
  - [x] 체스판의 1칸은 고유한 1개 좌표를 가진다.
  - [x] 8 * 8 의 빈 체스 판을 생성한다.
  
- [x] 기물 생성
  - [x] 기물들을 종류별로 하나씩 생성한다.
  - [x] 기물들은 이름과 팀을 가지고 있다.
  
- [x] 기물 배치
  - [x] 배치 방식은 기본 체스 룰을 따른다.
  - [x] 흑의 기물들을 상단에, 백의 기물들을 하단에 배치한다.
  
- [x] 체스 판 출력
  - [x] 체스 판 전체를 출력한다.
  - [x] 흑의 기물들은 대문자로 표기하고, 백의 기물들은 소문자로 표기한다.
  - [x] 명령어가 입력 될 때 마다, 체스 판을 출력한다.
  

## 2단계 - 말 이동

- [x] `move ${현재위치} ${도착위치}` 를 입력받는다.
  - [x] 위의 형식에 맞지 않으면, 예외를 발생시킨다.
  - [ ] `${도착위치}` 의 File, Rank가 유효하지 않으면, 이동할 수 없다.
  
- [x] `${현재위치}` 에 자신의 기물이 없으면, 예외를 발생시킨다.
  
- [ ]  `${현재위치}` 에 있는 기물에게 `${도착위치}` 로 이동하라고 메시지를 보낸다.
  - [ ] 보드를 함께 전달한다.
    
- [ ] 기물이 `${도착위치}` 에 이동할 수 있으면, 이동한다.
  - [ ] 이동할 수 없으면, 이동 불가 안내문을 출력한다.
  
- [ ] 말 이동 가능 여부 판단
  - [ ] 말 이동 방식은 기본 체스 룰을 따른다.
    
  - [ ] Rook, Bishop, Queen
    - [ ] `${현재위치}` 로부터  `${도착위치}` 까지의 방향(기울기)을 구한다.
    - [ ] 이동 명령의 방향이, 이동하고자 하는 기물의 이동 가능 방향들 중에 포함되어있지 않으면, 이동할 수 없다.
    - [ ] 이동 명령 방향으로 이동할 수 있으면, 한 칸씩 `${도착위치}` 까지 검사한다.
    - [ ] 이동 경로 중간(`${출발위치}` 다음부터 `${도착위치}` 직전까지)에 기물이 존재하면, 이동할 수 없다.
    - [ ] `${도착위치}` 에 아군의 기물이 있으면, 이동할 수 없다.
    - [ ] 그 외의 경우는 이동할 수 있다.
    
  - [ ] King
    - [ ] King이 혼자만 존재한다고 가정할 때(다른 기물들이 모두 없을 때), King이 이동할 수 있는 위치들(King의 주변을 둘러싸고 있는 칸들의 위치)을 구한다. -> 이 과정에서 아군 기물이 있는 위치(이동 불가 위치)들을 제거할 수 있는지 고민해본다. (밑에 분리되어 있음)
    - [ ] King이 혼자만 존재한다고 가정할 때, 이동할 수 있는 위치들 중에, 이동 명령의 `${도착위치}` 가 포함되어 있지 않으면, 이동할 수 없다. -> 어차피 맨 마지막에 검사하니, 삭제해도 상관없음.
    - [ ] King이 혼자만 존재한다고 가정할 때 이동할 수 있는 위치들에서, 아군 기물이 있는 위치(이동 불가 위치)들을 모두 제거한다.
    - [ ] 아군 King이 존재하지 않는다고 가정할 때, 적의 모든 기물들이 이동할 수 있는 모든 위치(체크 위치)들을 모두 구한다.
    - [ ] King이 이동할 수 있는 위치들에서, 적의 모든 기물들이 이동할 수 있는 모든 위치(체크 위치)들을 제거한다.
    - [ ] King이 이동할 수 있는 위치들 중에, 이동 명령의 `${도착위치}` 가 포함되어 있지 않으면, 이동할 수 없다.
    - [ ] 그 외의 경우는 이동할 수 있다.
    
  - [ ] Knight
    - [ ] `${현재위치}` 로부터  `${도착위치}` 까지의 방향을 구한다.
    - [ ] 이동 명령의 방향이, 이동하고자 하는 기물의 이동 가능 방향들 중에 포함되어있지 않으면, 이동할 수 없다.
    - [ ] `${도착위치}` 에 아군 기물이 있으면, 이동할 수 없다.
    - [ ] 그 외의 경우는 이동할 수 있다.
    
  - [ ] Pawn
    - [ ] `${현재위치}` 로부터  `${도착위치}` 까지의 방향(기울기)을 구한다.
      
    - [ ] 이동 명령의 방향이, 이동하고자 하는 기물의 이동 가능 방향들 중에 포함되어있지 않으면, 이동할 수 없다.
      - [ ] 흑 팀일 때 : LEFT_DOWN, DOWN, RIGHT_DOWN
      - [ ] 백 팀일 때 : LEFT_UP, UP, RIGHT_UP
      
    - [ ] 이동 명령 방향이 수직 방향(UP, DOWN) 일 때
      - [ ] `${도착위치}` 에 기물이 있으면, 이동할 수 없다.
      
    - [ ] 이동 명령 방향이 대각선 방향(LEFT_DOWN, RIGHT_DOWN, LEFT_UP, RIGHT_UP)일 때
      - [ ] `${도착위치}` 에 적의 기물이 없으면, 이동할 수 없다.
      
    - [ ] 그 외의 경우는 이동할 수 있다.
  
## 3단계 - 승패 및 점수

- [ ] King이 잡힌 경우
  - [ ] King이 잡히는 팀이 진다.
  - [ ] 잡히는 즉시, 체스 판을 출력하고, 게임을 종료한다.
  - [ ] `${승리한 팀}이 이겼습니다.` 를 출력한다.

- [ ] King이 잡히지 않은 상태
  - [ ] `status` 명령을 입력
    - [ ] 각 팀의 현재 점수를 출력한다.
    - [ ] 점수가 같지 않다면, `현재 ${점수가 높은 팀}이 이기고 있습니다.` 를 출력한다.
    - [ ] 점수가 같다면, `현재 무승부 입니다.` 를 출력한다.

- [ ] 점수 계산
  - [ ] 각 기물의 점수는, King은 0점, Queen은 9점, Rook은 5점, Bishop은 3점, Knight는 2.5점 이다.
  - [ ] Pawn의 기본 점수는 1점이다. 하지만 한 File(열)에 같은 팀의 Pawn이 있는 경우, 1점이 아닌 0.5점으로 계산한다.
  - [ ] 각 팀의 점수를 따로 계산한다. (요구사항)
    
  - [ ] 각 File(열)별로 점수를 계산해 합친다.
    - [ ] Pawn들의 점수 합과 그 외 기물들의 점수 합을 따로 계산한 후에 합친다.
      
    - [ ] Pawn들의 점수 합
      - [ ] Pawn이 2개 이상이면, 각 Pawn의 점수를 0.5점으로 계산한다.
      - [ ] 그 외에는 각 Pawn의 점수를 1점으로 계산한다.
      
    - [ ] Pawn 외의 점수 합
      - [ ] 각 기물들의 점수를 합친다.
  